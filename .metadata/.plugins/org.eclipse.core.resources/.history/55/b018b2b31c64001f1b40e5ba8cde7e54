<!-- 
덧글 


-vs-

답글(같은 테이블)
 -->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
* {
    padding: 0;
    margin: 0;
    color: #333;}
ul {
    list-style: none;}
#container {
    padding: 30px 20px;}

  h1 {
      font-size: large;
      border-left: 10px solid #7BAEB5;
      border-bottom: 1px solid #7BAEB5;
      padding: 10px;
      width: auto;
  }

  #comment_write {
      padding: 20px 15px;
      border-bottom: 1px solid #7BAEB5;
  }

  #comment_write label {
      display: inline-block;
      width: 80px;
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 10px;
  }

  #comment_write input[type='text'], #comment_write textarea {
      border: 1px solid #ccc;
      vertical-align: middle;
      padding: 3px 10px;
      font-size: 12px;
      line-height: 150%;
  }

  #comment_write textarea {
      width: 380px;
      height: 90px
  }

  .comment_item {
      font-size: 13px;
      color: #333;
      padding: 15px;
      border-bottom: 1px dotted #ccc;
      line-height: 150%;
  }

  .comment_item .writer {
      color: #555;
      line-height: 200%;
  }

  .comment_item .writer input {
      vertical-align: middle;
  }

  .comment_item .writer .name {
      color: #222;
      font-weight: bold;
      font-size: 14px;
  }
</style>
</head>
<body>
	<div id="container">
		<h1>jQuery Comment</h1>
			<div id="comment_write">
				<form id="comment_form">
					<div>
						<label for="user_name">작성자</label>
						<input type="text" name="user_name" id="user_name" />
						<input type="submit" value="저장하기" />
					</div>
					
					<div>
						<label for="comment">덧글 내용</label>
						<textarea name="comment" id="comment"></textarea>
					</div>
				</form>
			</div>
		<!-- 동적 요소 -->
		<ul id="comment_list"></ul>
	</div>
</body>

<script type="text/javascript" src="http://code.jquery.com/jquery-3.7.1.min.js"></script>
<script type="text/javascript">
$(function() {
	$('#comment_form').submit(function() {
		// 작성자가 비었을 경우
		if(!$('#user_name').val()){
			alert('이름을 입력하시오');
			$('#user_name').focus();
			return false;
		}
		
		// 댓글가 비었을 경우
		if(!$('#comment').val()){
			alert('댓글을 입력하시오');
			$('#comment').focus();
			return false;
		}
		
		
		// 날짜
		var date = new Date();
		
		var yy = date.getFullYear();
		var mm = date.getMonth()+1;
		var dd = date.getDate();
		
		var hh = date.getHours();
		var mi = date.getMinutes();
		var ss = date.getSeconds();
		
		// 날짜 형식 통일 
		if(mm<10){ mm = '0' + mm; }
		if(dd<10){ dd = '0' + dd; }
		if(hh<10){ hh = '0' + hh; }
		if(mi<10){ mi = '0' + mi; }
		if(ss<10){ ss = '0' + ss; }
		
		var today = yy + '-' + mm + '-' + dd + ' ' + hh + ':' + mi + ': ' +ss;
		
		
		// 태그 생성
		 //<li class='comment_item'></li>
		var new_li = $('<li/>');
		new_li.addClass('comment_item'); 
		 //<p class='writer'></p>
		var write_p = $('<p/>');
		write_p.addClass('writer');
		 //<span class='name'>~~~님</span>
		var name_span = $('<span/>');
		name_span.addClass('name');
		name_span.html($('#user_name').val()+'님');
		 //<span> / 2024-03-01 20:14:01</span>
		var date_span = $('<span/>');
		date_span.html(' / '+today + ' ');
		 //<input type='button' value='삭제하기' class=delete_btn>
		var del_input = $('<input/>');
		del_input.attr({
			//JSON 방식
			'type' : 'button',
			'value' : '삭제하기',
			'class' : 'delete_btn' 
		});
		
		 //<p></p>
		 var content_p = $('<p/>');
		 content_p.html($('#comment').val());
		 
		 // append() 체인방식
		 write_p.append(name_span).append(date_span).append(del_input);
		 new_li.append(write_p).append(content_p);
		 $('#comment_list').append(new_li);
		
		
		
		
	});
});
	
</script>
</html>
